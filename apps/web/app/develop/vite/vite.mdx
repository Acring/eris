# 在 Vite 中使用 Eris UI

## 使用

### 安装


```javascript
pnpm add @xsky/eris-ui @xsky/eris-ui-preset @xsky/eris-icons
```

### 配置 tailwind css 

#### v3

1. 在 config.content 中增加 `'./node_modules/@xsky/eris-ui/**/*.{js,ts,jsx,tsx,mdx}'`
2. 设置 config.presets

```ts
{
  presets: [require('@xsky/eris-ui-preset')];
}
```

#### v4

修改 app.css
```css
@import 'tailwindcss';
@import '@xsky-website/tailwind-config/share-styles.css';
@import '@xsky-website/ui/styles/global.css';

// 根据实际情况配置，如果是 monorepo 需要将包安装到根目录
@source '../../../node_modules/@xsky/eris-ui/dist/**/*.{js,ts,jsx,tsx}';
@config '@xsky/eris-ui-preset';
```

在 monorepo 下配置 .npmrc 将包安装到根目录

.npmrc
```
public-hoist-pattern[]=*@xsky/*
```

#### Vite 配置优化

在 `vite.config.js` 中添加优化配置：

```js
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'

export default defineConfig({
  plugins: [react()],
  optimizeDeps: {
    include: [
      '@xsky/eris-ui',
      '@xsky/eris-icons',
      '@xsky/eris-ui-preset',
      'big.js',
      'lodash',
      'buffer',
      'assert',
    ],
    esbuildOptions: {
      target: 'esnext',
    },
  },
  ssr: {
    // 强制内联打包以避免 Node 直接以 CJS 方式加载其 ESM 构建
    noExternal: [
      '@xsky/eris-ui',
      '@xsky/eris-ui-preset',
      '@xsky/eris-icons',
      'big.js',
      'lodash',
      'buffer',
      'assert',
    ],
  },
})
```


### 使用组件

```ts
import { Button, Input } from '@xsky/eris-ui';
```
